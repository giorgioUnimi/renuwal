<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        
       <h:outputStylesheet  library="css" name="jsfcrud_joomla.css"/>  
        
       <!--
        <h:outputStylesheet  library="css" name="animated-menu.css"/>
      <h:outputStylesheet  library="css" name="jsfcrud.css"/>
	<script src="http://jqueryjs.googlecode.com/files/jquery-1.3.js" type="text/javascript"></script>
        <h:outputScript library="css" name="js/jquery.easing.1.3.js" />
                       
	<h:outputScript library="css" name="animated-menu.js" />
       -->
         <title>Allevamento</title>
    </h:head>
    <h:body>
       <!--
            <h:panelGroup id="headerside" layout="block">
                
                    <c:if test="#{utente.corretto}">
               
                   </c:if> 
                     <p>
                        <h:graphicImage  value="resources/css/images/logobianco1.jpg" />
                      
                        <fieldset style="border: 1px solid #21221A;margin-bottom: 0px;">
                            <legend><h1><g>Progetto Ager</g></h1></legend>
                  
                            <h3>Decision<br /><br /> Support<br /><br /> Tool</h3><br /><br /><br />
                   </fieldset> 
                  
                    
                  </p>
                  
                  
               
            </h:panelGroup> 
       
       -->
       
         <div id="leftrightcontainer"> 
             <!--
             <ui:insert name="leftside" >
		  <ui:include src="/template/colonnasinistra.xhtml" />
		</ui:insert>  
          -->
            <h:panelGroup id="rightside" layout="block">
         <!--
            <ui:insert name="ulmenu" >
		  <ui:include src="/template/menu.xhtml" />
		</ui:insert>      
             --> 
             
              <f:metadata>
                   <f:viewParam name="sp_utente" value="#{dettaglioCuaa.utente}" />
                    <f:viewParam name="sp_utente" value="#{utente.username}" />
                    <f:viewParam name="sp_azienda" value="#{dettaglioCuaa.cuaa}" />
                    <f:viewParam name="sp_scenario" value="#{dettaglioCuaa.scenarioString}" />
                   
              </f:metadata>
             
             
             
                <div class="cleardiv">
                    </div>
             <!--
                <p>
                   <h2>Progetto Ager : Allevamenti</h2>     
               </p> 
             -->
             <!--
             <c:choose>
                 <c:when test="#{utente.username == 'azienda1'}">
                    <h:outputText value="Cuaa selezionato : #{dettaglioCuaa.cuaa}" style="display: block;"/>
                    <h:outputText value="Ragione sociale : #{dettaglioCuaa.ragionesociale}" style="display: block;" />
                 
                 </c:when>
                 <c:otherwise>
                     <h:outputText value="Cuaa selezionato : #{dettaglioCuaa.cuaa_finto}" style="display: block;"/>
                     <h:outputText value="Ragione sociale : #{dettaglioCuaa.ragionesociale_finto}" style="display: block;" />
                     
                 </c:otherwise>
             </c:choose>
             -->
             <!--
                    <h:outputText value="Cuaa selezionato : #{dettaglioCuaa.cuaa}" style="display: block;"/>
                    <h:outputText value="Ragione sociale : #{dettaglioCuaa.ragionesociale}" style="display: block;" />
             -->
             <!--
                    <h:outputText value="Comune : #{dettaglioCuaa.comune}" style="display: block;" />
                   <h:outputText value ="Scenario : #{dettaglioCuaa.scenario}" style="display: block;"/>
                   
                   <h:outputText value ="Descrizione Scenario : #{dettaglioCuaa.descrizionescenario}" style="display: block;"/>
             -->
             
                <f:view id="vistaRoot">
                    <h:form id="formRoot">
                        

            
                        
          <h:dataTable id="tabellaAllevamentolista" value="#{listaAllevamentiJ.tabella}"  binding="#{listaAllevamentiJ.dataTable}" var="row">
         
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="#" />
                    </f:facet>
                    <h:selectBooleanCheckbox value="#{row.selected}" />
                </h:column>   
               <h:column>
                     <f:facet name="header">
                        <h:outputText value="Specie" />
                    </f:facet>
                   <h:selectOneMenu id="state" required="true"  value="#{row.desSpecie}" style="width: 70px;" >
                        <f:selectItems value="#{row.listaSpecie}" />  
                        <f:ajax execute="state" immediate="true" event="click" render="categoria allevamento stabulazione" />
                    </h:selectOneMenu> 
               </h:column>
               <h:column>
                     <f:facet name="header">
                        <h:outputText value="Categorie" />
                    </f:facet>
                   <h:selectOneMenu id="categoria"   value="#{row.desCatAllev}" style="width: 140px;">
                       <f:selectItems value="#{row.listaCategorie}" />  
                        <f:ajax execute="categoria" immediate="true" event="click" render="allevamento stabulazione" />
                    </h:selectOneMenu> 
                </h:column>
                <h:column>
                     <f:facet name="header">
                        <h:outputText value="Allevamento" />
                    </f:facet>
                    <h:selectOneMenu id="allevamento" value="#{row.desAllevamento}" style="width: 120px;">
                        <f:selectItems value="#{row.listAllevamento}" />  
                        <f:ajax execute="allevamento" immediate="true" event="click" render="stabulazione" />
                    </h:selectOneMenu> 
                </h:column>
                <h:column>
                     <f:facet name="header">
                        <h:outputText value="Stabulazione" />
                    </f:facet>
                    <h:selectOneMenu id="stabulazione"   value="#{row.desStabulazione}"  style="width: 180px;" >
                        <f:selectItems value="#{row.listStabulazione}" />  
                        <f:ajax execute="stabulazione" immediate="true" event="click" render="pesovivo" />
                    </h:selectOneMenu> 
                </h:column>
              
                            <h:column>
                    <f:facet name="header">
                        <h:outputText value="N° Capi" />
                    </f:facet>
                                <h:inputText   value="#{row.numCapiSpecieStab}" style="width: 20px;"  >
                        
                    </h:inputText>
                </h:column>  
                                       <h:column>
                    <f:facet name="header">
                        <h:outputText value="Peso Vivo" />
                    </f:facet>
                              <h:outputText  id="pesovivo" value="#{row.pesoVivo}"  style="width: 40px;font-size: 10px;">
                                
                    </h:outputText>
                </h:column>
              <h:column>
                  <h:commandLink action="#{listaAllevamentiJ.aggiornaRiga}" value="Aggiorna" />
              </h:column>
              <f:facet name="footer">
                    <h:panelGroup>
                        
                        <h:commandButton value="Aggiungi" action="#{listaAllevamentiJ.addRecord}" />
                         &nbsp;&nbsp;
                        <h:commandButton value="Elimina le righe selezionate" action="#{listaAllevamentiJ.deleteSelected}" />
                        
                    </h:panelGroup>
                </f:facet>
              
            
            </h:dataTable>
          
             
                  
                    
                    
                    </h:form>
                </f:view>
                
             
                
            </h:panelGroup>  
             </div>
        <div class="cleardiv">
            </div>
        <!--
        <div id="footerside">
                    <p>
                        <br/>
                        <h3>Sviluppato da :<br /><a href="http://www.disaa.unimi.it">Dipartimento di Scienze Agrarie e Ambientali</a> <br /><a href="http://www.unimi.it"> Università degli Studi di Milano </a></h3>
                     
                    </p>    
        </div>
        
        -->
    </h:body>
</html>

